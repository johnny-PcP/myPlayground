import{_ as D,c as d,o as g,G as o,w as T,F as q,B as _,n as w,j as s,t as I,a0 as P,aa as R,p as x,s as S,a2 as m,ab as $,a9 as f,a as u,C as M,a3 as B}from"./chunks/framework.CK0l16au.js";const N={class:"fixed bottom-[72px] right-3 z-[99] flex h-[40vh] w-[200px] flex-col-reverse items-end gap-y-3 overflow-y-auto md:bottom-3 md:w-[400px]",style:{"pointer-events":"none"}},j={class:"relative flex min-h-[75px] flex-1 items-start justify-start break-all rounded-md bg-white/70 pb-2 pl-1.5 pr-8 pt-4 font-bold"},V=["onClick"],z={__name:"render-tips",props:{tips:{type:Array,default:()=>[]}},emits:["removeTip"],setup(t){return(i,n)=>(g(),d("section",N,[o(R,{appear:"",name:"tip-fade"},{default:T(()=>[(g(!0),d(q,null,_(t.tips,a=>(g(),d("div",{key:a.id,class:w([a.textColor||"text-black","flexCenter h-auto w-full rounded-md bg-themeOrange/70 p-2"]),style:{"pointer-events":"auto"}},[s("div",j,[s("p",null,I(a.content),1),s("button",{class:"absolute right-1 top-0.5 font-bold text-black hover:text-red-500 transition-colors",onClick:P(h=>i.$emit("removeTip",a.id),["prevent"])}," × ",8,V)])],2))),128))]),_:1})]))}},v=D(z,[["__scopeId","data-v-409928ea"]]);function A(t={}){let i=null,n=null;const a=x([]),h=new Map;function y(l){if(l==="body")return document.body;const p=document.querySelector(l);if(p)return p;throw new Error(`Teleport target "${l}" not found`)}function c(){if(i)return;i=document.createElement("div");const l=`tips-container-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;i.id=l,document.body.appendChild(i),n=S(()=>{if(!i)return;const p=t.teleport;let k;if(p){const b=p===!0?"body":p,C=b==="body"?document.body:y(b);k=m($,{to:C},[m(v,{tips:a.value,onRemoveTip:E})])}else k=m(v,{tips:a.value,onRemoveTip:E});f(k,i)})}function F(l){const p=Date.now()+Math.floor(Math.random()*1e3),k=l.duration??t.defaultDuration??5e3,b={id:p,...l};a.value.push(b),i||c();const C=setTimeout(()=>{E(p)},k);h.set(p,C)}function E(l){const p=a.value.findIndex(k=>k.id===l);if(p!==-1){a.value.splice(p,1);const k=h.get(l);k&&(clearTimeout(k),h.delete(l)),a.value.length===0&&r()}}function e(){h.forEach(l=>clearTimeout(l)),h.clear(),a.value=[],r()}function r(){n&&(n(),n=null),i&&(f(null,i),document.body.removeChild(i),i=null)}return{pushTip:F,removeTip:E,removeAllTips:e,tips:a.value}}const W={class:"basic-usage-demo"},O={__name:"basic-usage",setup(t){const i=A();function n(){i.pushTip({content:"操作成功！資料已儲存",textColor:"text-green-700",duration:3e3})}function a(){i.pushTip({content:"請注意：這個操作可能需要一些時間",textColor:"text-yellow-700",duration:4e3})}function h(){i.pushTip({content:"錯誤：無法連接到伺服器，請檢查網路連線",textColor:"text-red-700",duration:6e3})}function y(){i.removeAllTips()}return(c,F)=>(g(),d("div",W,[s("div",{class:"demo-buttons"},[s("button",{class:"demo-btn",onClick:n}," 成功提示 "),s("button",{class:"demo-btn warning-btn",onClick:a}," 警告提示 "),s("button",{class:"demo-btn error-btn",onClick:h}," 錯誤提示 "),s("button",{class:"demo-btn clear-btn",onClick:y}," 清除所有提示 ")])]))}},L=D(O,[["__scopeId","data-v-4f3c3244"]]),U={class:"comprehensive-demo"},Y={__name:"comprehensive-demo",setup(t){const i=A(),n=A({teleport:!0,defaultDuration:4e3}),a=x(null);function h(){i.pushTip({content:"這個提示會顯示 10 秒鐘，比一般提示更久",textColor:"text-blue-700",duration:1e4})}function y(){n.pushTip({content:"🚀 這個提示使用 Teleport 傳送到 body",textColor:"text-purple-700",duration:5e3})}function c(){[{content:"第一個提示訊息",textColor:"text-green-700"},{content:"第二個提示訊息",textColor:"text-blue-700"},{content:"第三個提示訊息",textColor:"text-purple-700"}].forEach((r,l)=>{setTimeout(()=>{i.pushTip(r)},l*500)})}function F(){if(a.value)return;let e=1;a.value=setInterval(()=>{i.pushTip({content:`自動生成的提示 #${e}`,textColor:e%2===0?"text-indigo-700":"text-emerald-700",duration:3e3}),e++},2e3)}function E(){a.value&&(clearInterval(a.value),a.value=null)}return(e,r)=>(g(),d("div",U,[s("div",{class:"demo-buttons"},[s("button",{class:"demo-btn",onClick:h}," 自定義持續時間（10秒） "),s("button",{class:"demo-btn teleport-btn",onClick:y}," Teleport 到 body "),s("button",{class:"demo-btn",onClick:c}," 一次顯示多個提示 "),s("button",{class:"demo-btn auto-btn",onClick:F}," 自動生成提示（每2秒） "),s("button",{class:"demo-btn stop-btn",onClick:E}," 停止自動生成 ")]),r[0]||(r[0]=s("div",{class:"teleport-info"},[s("h4",null,"🚀 Teleport 功能說明"),s("p",null,"與 render-dialog 類似，render-tips 也支援 Teleport 功能："),s("ul",null,[s("li",null,[s("code",null,"teleport: true"),u(" - 傳送到 document.body")]),s("li",null,[s("code",null,'teleport: "#tips-container"'),u(" - 傳送到指定元素")]),s("li",null,"可以有效避免 z-index 層級衝突")])],-1))]))}},H=D(Y,[["__scopeId","data-v-8f77d855"]]),G={id:"即時渲染提示訊息",tabindex:"-1"},K=JSON.parse('{"title":"即時渲染提示訊息","description":"動態渲染提示訊息的 Composable 函式，無需手動在模板中放置組件。","frontmatter":{"description":"動態渲染提示訊息的 Composable 函式，無需手動在模板中放置組件。","head":[["meta",{"property":"og:description","content":"動態渲染提示訊息的 Composable 函式，無需手動在模板中放置組件。"}]]},"headers":[],"relativePath":"inspiration/render-tips/index.md","filePath":"inspiration/render-tips/index.md","lastUpdated":null}'),J={name:"inspiration/render-tips/index.md"},Q=Object.assign(J,{setup(t){return(i,n)=>{const a=M("Badge");return g(),d("div",null,[s("h1",G,[n[0]||(n[0]=u("即時渲染提示訊息 ")),o(a,{type:"info",text:"composable"}),n[1]||(n[1]=u()),n[2]||(n[2]=s("a",{class:"header-anchor",href:"#即時渲染提示訊息","aria-label":'Permalink to "即時渲染提示訊息 <Badge type="info" text="composable" />"'},"​",-1))]),n[3]||(n[3]=B("",6)),o(L,{title:"basic-usage"}),n[4]||(n[4]=B("",11)),o(H,{title:"comprehensive-demo"}),n[5]||(n[5]=B("",12))])}}});export{K as __pageData,Q as default};
